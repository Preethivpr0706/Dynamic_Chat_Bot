2024-12-16 23:55:43 [INFO]:  connected to MySQL database.
2024-12-16 23:55:43 [INFO]: Server is running on http://localhost:3000
2024-12-16 23:55:47 [INFO]: Message received from: 919094995418, Content: hi
2024-12-16 23:55:47 [DEBUG]: Message type: text
2024-12-16 23:55:47 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2024-12-16 23:55:47 [INFO]: getFromPOC: from:919094995418
2024-12-16 23:55:47 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2024-12-16 23:55:47 [INFO]: Query results:
2024-12-16 23:55:47 [INFO]: Handling user view for: 919094995418
2024-12-16 23:55:47 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2024-12-16 23:55:47 [DEBUG]: Executing query for User_Contact: 919094995418
2024-12-16 23:55:47 [DEBUG]: Executing query for Client_ID: 1
2024-12-16 23:55:48 [INFO]: Message sent successfully
2024-12-16 23:55:48 [INFO]: Welcome message sent to 919094995418
2024-12-16 23:55:48 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 0
2024-12-16 23:55:48 [INFO]: Query executed successfully. 3 row(s) returned.
2024-12-16 23:55:48 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":1,"MENU_NAME":"Book Appointment","HEADER_MESSAGE":"*How can I help you?*","ACTION":null}
2024-12-16 23:55:48 [DEBUG]: Row 2: {"CLIENT_ID":1,"MENU_ID":2,"MENU_NAME":"Reschedule","HEADER_MESSAGE":null,"ACTION":null}
2024-12-16 23:55:48 [DEBUG]: Row 3: {"CLIENT_ID":1,"MENU_ID":3,"MENU_NAME":"Cancel Appointment","HEADER_MESSAGE":null,"ACTION":null}
2024-12-16 23:55:49 [DEBUG]: Image uploaded successfully:
2024-12-16 23:55:50 [INFO]: Interactive message sent successfully
2024-12-16 23:55:50 [INFO]: Main menu sent to 919094995418
2024-12-16 23:55:50 [INFO]: user Id: 33
2024-12-16 23:55:54 [INFO]: Message received from: 919094995418, Content: Book Appointment
2024-12-16 23:55:54 [DEBUG]: Message type: interactive
2024-12-16 23:55:54 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2024-12-16 23:55:54 [INFO]: getFromPOC: from:919094995418
2024-12-16 23:55:54 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2024-12-16 23:55:54 [INFO]: Query results:
2024-12-16 23:55:54 [INFO]: Handling user view for: 919094995418
2024-12-16 23:55:54 [DEBUG]: Executing query for User_Contact: 919094995418
2024-12-16 23:55:54 [INFO]: Title: Book Appointment ID: 1~1~1,1~1~1
2024-12-16 23:55:54 [DEBUG]: Executing query for Client_ID: 1, User_ID: 33
2024-12-16 23:55:54 [INFO]: Appointment id: 36
2024-12-16 23:55:54 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 1
2024-12-16 23:55:54 [INFO]: Query executed successfully. 4 row(s) returned.
2024-12-16 23:55:54 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":4,"MENU_NAME":"Emergency","HEADER_MESSAGE":null,"ACTION":null}
2024-12-16 23:55:54 [DEBUG]: Row 2: {"CLIENT_ID":1,"MENU_ID":5,"MENU_NAME":"Tele Consultation","HEADER_MESSAGE":null,"ACTION":null}
2024-12-16 23:55:54 [DEBUG]: Row 3: {"CLIENT_ID":1,"MENU_ID":6,"MENU_NAME":"Direct Consultation","HEADER_MESSAGE":null,"ACTION":null}
2024-12-16 23:55:54 [DEBUG]: Row 4: {"CLIENT_ID":1,"MENU_ID":7,"MENU_NAME":"Master Health Checkup","HEADER_MESSAGE":null,"ACTION":null}
2024-12-16 23:55:54 [INFO]: Radio button message sent successfully
2024-12-16 23:55:55 [INFO]: Interactive message sent successfully
2024-12-16 23:55:55 [INFO]: Back button sent to 919094995418
2024-12-16 23:56:00 [INFO]: Message received from: 919094995418, Content: Emergency
2024-12-16 23:56:00 [DEBUG]: Message type: interactive
2024-12-16 23:56:00 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2024-12-16 23:56:00 [INFO]: getFromPOC: from:919094995418
2024-12-16 23:56:00 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2024-12-16 23:56:00 [INFO]: Query results:
2024-12-16 23:56:00 [INFO]: Handling user view for: 919094995418
2024-12-16 23:56:00 [DEBUG]: Executing query for User_Contact: 919094995418
2024-12-16 23:56:00 [INFO]: Title: Emergency ID: 1~4~undefined~36,1~1~1
2024-12-16 23:56:00 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 4
2024-12-16 23:56:00 [INFO]: Query executed successfully. 1 row(s) returned.
2024-12-16 23:56:00 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":12,"MENU_NAME":"Show Emergency Reasons List","HEADER_MESSAGE":"Select the Emergency Reason","ACTION":"Appointment_Type~LIST~EMERGENCY_REASON"}
2024-12-16 23:56:00 [INFO]: handleAction: iAction:Appointment_Type,LIST,EMERGENCY_REASON ,iClientID:1 ,iMenuId:12, iUserValue:Emergency iSelectId: undefined appointment_id: 36
2024-12-16 23:56:00 [DEBUG]: Executing query for Appointment_ID: 36, Column: Appointment_Type, Value: Emergency
2024-12-16 23:56:00 [INFO]: Appointment updated successfully
2024-12-16 23:56:00 [INFO]: Appointment updated successfully
2024-12-16 23:56:00 [INFO]: getFromList: iClientId:1 , iMenuId:12 ,iKey:EMERGENCY_REASON , iLang:ENG
2024-12-16 23:56:00 [DEBUG]: Executing query for Client_ID: 1, Menu_ID: 12, Key_name: EMERGENCY_REASON, Lang: ENG
2024-12-16 23:56:00 [INFO]: Query results:
2024-12-16 23:56:01 [INFO]: Radio button message sent successfully
2024-12-16 23:56:01 [INFO]: Interactive message sent successfully
2024-12-16 23:56:01 [INFO]: Back button sent to 919094995418
2024-12-16 23:56:09 [INFO]: Message received from: 919094995418, Content: Heart Attack
2024-12-16 23:56:09 [DEBUG]: Message type: interactive
2024-12-16 23:56:09 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2024-12-16 23:56:09 [INFO]: getFromPOC: from:919094995418
2024-12-16 23:56:09 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2024-12-16 23:56:09 [INFO]: Query results:
2024-12-16 23:56:09 [INFO]: Handling user view for: 919094995418
2024-12-16 23:56:09 [DEBUG]: Executing query for User_Contact: 919094995418
2024-12-16 23:56:09 [INFO]: Title: Heart Attack ID: 1~12~4~36,1~4~undefined
2024-12-16 23:56:09 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 12
2024-12-16 23:56:09 [INFO]: Query executed successfully. 1 row(s) returned.
2024-12-16 23:56:09 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":13,"MENU_NAME":"Confirm Emergency Details","HEADER_MESSAGE":"Please Confirm Your details","ACTION":"Emergency_Reason~CONFIRM~CONFIRM_EMERGENCY"}
2024-12-16 23:56:09 [INFO]: handleAction: iAction:Emergency_Reason,CONFIRM,CONFIRM_EMERGENCY ,iClientID:1 ,iMenuId:13, iUserValue:Heart Attack iSelectId: 4 appointment_id: 36
2024-12-16 23:56:09 [DEBUG]: Executing query for Appointment_ID: 36, Key: Emergency_Reason
2024-12-16 23:56:09 [INFO]: JSON data updated successfully
2024-12-16 23:56:09 [INFO]: JSON data updated successfully
2024-12-16 23:56:09 [INFO]: Appointment updated successfully
2024-12-16 23:56:09 [DEBUG]: Executing query for Client_ID: 1, Template_Name: CONFIRM_EMERGENCY
2024-12-16 23:56:09 [DEBUG]: Executing query for Appointment_ID: 36
2024-12-16 23:56:09 [INFO]: JSON Data: {
  "Appointment_Type": "Emergency",
  "Emergency_Reason": "Heart Attack"
}
2024-12-16 23:56:10 [INFO]: Message sent successfully
2024-12-16 23:56:11 [INFO]: Radio button message sent successfully
2024-12-16 23:56:11 [INFO]: Interactive message sent successfully
2024-12-16 23:56:11 [INFO]: Back button sent to 919094995418
2024-12-16 23:56:16 [INFO]: Message received from: 919094995418, Content: Confirm
2024-12-16 23:56:16 [DEBUG]: Message type: interactive
2024-12-16 23:56:16 [INFO]: Fetching Client ID for displayPhoneNumber: "15551834745"
2024-12-16 23:56:16 [INFO]: getFromPOC: from:919094995418
2024-12-16 23:56:16 [DEBUG]: Executing query for Client_ID: 1, Contact_Number: 919094995418
2024-12-16 23:56:16 [INFO]: Query results:
2024-12-16 23:56:16 [INFO]: Handling user view for: 919094995418
2024-12-16 23:56:16 [DEBUG]: Executing query for User_Contact: 919094995418
2024-12-16 23:56:16 [INFO]: Title: Confirm ID: 1~13~Confirm~36,1~12~4
2024-12-16 23:56:16 [DEBUG]: Executing query for Client_ID: 1, Parent_Menu_ID: 13
2024-12-16 23:56:16 [INFO]: Query executed successfully. 1 row(s) returned.
2024-12-16 23:56:16 [DEBUG]: Row 1: {"CLIENT_ID":1,"MENU_ID":14,"MENU_NAME":"Finalize Emergency","HEADER_MESSAGE":"Waiting for your arrival","ACTION":"Confirm_Status~FINALIZE~FINALIZE_EMERGENCY"}
2024-12-16 23:56:16 [INFO]: handleAction: iAction:Confirm_Status,FINALIZE,FINALIZE_EMERGENCY ,iClientID:1 ,iMenuId:14, iUserValue:Confirm iSelectId: Confirm appointment_id: 36
2024-12-16 23:56:16 [DEBUG]: Executing query for Appointment_ID: 36, Key: Confirm_Status
2024-12-16 23:56:16 [INFO]: JSON data updated successfully
2024-12-16 23:56:16 [INFO]: JSON data updated successfully
2024-12-16 23:56:16 [INFO]: Appointment updated successfully
2024-12-16 23:56:16 [DEBUG]: Executing query for Appointment_ID: 36, Column: Status, Value: Confirmed
2024-12-16 23:56:16 [INFO]: Appointment updated successfully
2024-12-16 23:56:16 [DEBUG]: Executing query for Appointment_ID: 36, Column: Is_Active, Value: 1
2024-12-16 23:56:16 [INFO]: Appointment updated successfully
2024-12-16 23:56:16 [DEBUG]: Executing query for Appointment_ID: 36
2024-12-16 23:56:16 [INFO]: JSON Data: {
  "Status": "Confirmed",
  "Is_Active": 1,
  "Confirm_Status": "Confirm",
  "Appointment_Type": "Emergency",
  "Emergency_Reason": "Heart Attack"
}
2024-12-16 23:56:16 [DEBUG]: Executing query for Client_ID: 1, Template_Name: FINALIZE_EMERGENCY
2024-12-16 23:56:17 [INFO]: Message sent successfully
2024-12-16 23:56:17 [INFO]: Appointment finalized successfully
